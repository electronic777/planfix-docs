**Автоматический сценарий** — это выполняемая автоматически последовательность операций над [Объектами (задачами)](Объекты.md "Объекты") или [контактами](Контакты.md "Контакты"), привязанная к определенному событию и набору условий. 


  


[Смотреть на YouTube](https://youtu.be/uT0OiWy4jM8?si=l3OgxC3Oi82Lgyhp)


  


## Автоматические сценарии для разных объектов


На текущий момент в ПланФиксе поддерживаются автоматические сценарии для следующих сущностей: 


  * [ Автоматические сценарии для Объектов (задач)](Автоматические_сценарии_Объекта.md "Автоматические сценарии Объекта")

  * [Автоматические сценарии для контактов](Автоматические_сценарии_для_контактов.md "Автоматические сценарии для контактов")


## Работа автоматических сценариев


  * [События в автоматических сценариях](События_в_автоматических_сценариях.md "События в автоматических сценариях")

  * [Очередь на выполнение автоматических сценариев](Очередь_на_выполнение_автоматических_сценариев.md "Очередь на выполнение автоматических сценариев")

  * [Операции в автоматических сценариях](Операции_в_автоматических_сценариях.md "Операции в автоматических сценариях")

  * [ Отправка Post-запросов при помощи автоматических сценариев](HTTP-запросы.md "HTTP-запросы")

  * [Отложенное срабатывание сценариев](Отложенное_срабатывание_сценариев.md "Отложенное срабатывание сценариев")

  * [ Режим тестирования автоматических сценариев](Режим_тестирования_сценариев_задач_и_контактов.md "Режим тестирования сценариев задач и контактов")

  * [ Копирование части сценария из одного в другой](Скопировать_в_буфер.md "Скопировать в буфер")

  * [Условия в автоматических сценариях](Условия_в_автоматических_сценариях.md "Условия в автоматических сценариях")

  * [Как считается количество автоматических операций](Как_считается_количество_автоматических_операций.md "Как считается количество автоматических операций")

  * [Пользовательские операции сценариев](Пользовательские_операции_сценариев.md "Пользовательские операции сценариев")


## Важно


  * Сценарии выполняются в порядке их расположения в списке сценариев процесса.

  * Если автоматический сценарий сделает какие-то изменения, то на эти изменения (и все последующие изменения, сделанные сценариями и пересчетами полей, вызванные этими изменениями) этот же сценарий срабатывать не будет.


    Например, на добавление комментария сработал **Сценарий А**. Он изменил поле «П1» — на это изменение сработал **Сценарий Б** и изменил поле «П2» — на это изменение пересчиталось поле «П3» и вызвался **Сценарий В** , который добавил комментарий. В итоге **Сценарий А** , который срабатывает на добавление комментария, не отработает, потому что изменения во всей цепочке вызвал он сам. Такие циклы в ПланФиксе запрещены.


  * Если сценарий изменяет объект (задачу, контакт и т.п.) таким образом, что перестают выполняться условия в последующем сценарии, то последующий сценарий не будет выполнен.

  * И наоборот, если сценарий изменяет объект (задачу, контакт и т.п.) таким образом, что начинают выполняться условия в последующем сценарии, то последующий сценарий будет выполнен (даже если на момент самого события условия не выполнялись)

  * Изменения, которые проводит сценарий над объектом, в свою очередь вызывают событие "Объект изменен..." и срабатывание сценариев на это событие.

  * Сценарии работают асинхронно в отдельной очереди. Выстраивая архитектуру автоматизации, рекомендуем учитывать этот нюанс. Например, в поле задачи вы добавили сумму в 1000 рублей. Автоматический сценарий должен добавить аналитику. Для этого он занимает отдельную очередь и ждёт исполнения. За это время вы изменили сумму с 1000 на 1500 рублей. В итоге, когда сценарий дождётся своей очереди, из поля задачи он возьмет последнее значение 1500 рублей. В обычном режиме сценарии работают с минимальными задержками, но если в общей очереди их накапливается много, могут наблюдаться незначительные задержки в работе.

  * Существует отдельное ограничение на создание подзадач сценарием. На одного исполнителя новая подзадача создается не чаще одного раза в 5 минут, попытки создать чаще игнорируются системой. Это дополнительная защита от зацикливания сценария.

  * Автоматические сценарии выполняют действия в ПланФиксе от лица указанного пользователя или робота. При создании и изменении задач автоматическим сценарием доступ пользователя к полям не проверяется. Исключением является случай, когда автоматический сценарий открывает форму создания задачи в интерфейсе и устанавливает значения полей. Если у пользователя, у которого откроется форма, не будет прав на редактирование полей, они автоматическим сценарием заполнены не будут.


## Полезные ссылки


  * [Процессы и сценарии](https://planfix.com/ru/blog/processy-i-scenarii/)

  * [Конфигурация “Согласование документов”](https://planfix.com/ru/blog/soglasovanie-dokumentov/)

  * [На чьей стороне мяч?](https://planfix.com/ru/blog/na-chej-storone-myach-2/)

  * [Пост про POST](https://planfix.com/ru/blog/post/)

  * [Сценарии для контактов: Шаг 1](https://planfix.com/ru/blog/scenarii-dlya-kontaktov-1/)

  * [Сценарии для контактов: Шаг 2](https://planfix.com/ru/blog/scenarii-dlya-kontaktov-2/)

  * [Сценарии времени](https://planfix.com/ru/blog/scenarii-vremeni/)

  * [ Добавление собственных команд управления ПланФиксом из мессенджера/чата/email](Добавление_собственных_команд.md "Добавление собственных команд")

  * [Сценарии ПланФикса: автоматизируйте выполнение рутинных задач](https://planfix.com/ru/blog/scenarii-planfiksa-avtomatizirujte-vypolnenie-rutinnyh-zadach)


## Обучающие материалы


Автоматические сценарии рассмотрены в следующих курсах **Академии ПланФикса** : 


  * [Базовый уровень](https://academy.planfix.ru/course/zadachi)
