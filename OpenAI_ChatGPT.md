В ПланФикс можно [интегрировать](Интеграции.md "Интеграции") чат-бота с искусственным интеллектом [ChatGPT](https://chat.openai.com/). Для работы требуется тариф "Профессионал". В автоматических сценариях используйте операцию «**Послать запрос к ChatGPT** ». 


Таким образом, из ПланФикса можно посылать запросы к чат-боту на разные события: 


  * добавление комментария,

  * заполнение поля,

  * и т.п.


Рассмотрим подключение и работу интеграции на простом примере добавления комментария в задачу. 


## Подключение


  * Для того, чтобы включить интеграцию с OpenAI перейдите в «Управление аккаунтом» — «Интеграции» — «Другие сервисы и приложения» — «OpenAI (ChatGPT)» и добавьте новую интеграцию.

  * Укажите название интеграции, затем перейдите в аккаунт [OpenAI](https://platform.openai.com/account/api-keys) и сгенерируйте API Key, добавьте его в соответствующее поле. Убедитесь, что у вас в аккаунте есть [доступные средства для использования API](https://platform.openai.com/account/billing/overview) и только после этого сохраните настройки.

  * Затем из маркетплейса ПланФикса [установите](Инструкция_по_установке_конфигурации.md "Инструкция по установке конфигурации") конфигурацию «Запрос к ChatGPT».

  * Выберите шаблон задачи, в процесс которого будет установлен автоматический сценарий. Запомните или запишите название процесса, к которому относится шаблон задачи.

  * Завершите установку конфигурации.


## Настройка запросов


  * Перейдите в «Управление аккаунтом» — «Процессы задач» — Выберите тот процесс, который вы запоминали или записали на этапе подключения — «Автоматические сценарии» — «Послать запрос к ChatGPT».

  * В условиях сценария укажите команду, на которую ChatGPT будет реагировать. По умолчанию: «/chatgpt».

  * В операциях автоматического сценария укажите название интеграции с OpenAI, если вы добавляете несколько интеграций.

  * Затем выберите модель ChatGPT. Информацию о моделях изучайте на сайте [OpenAI](https://platform.openai.com/docs/models/overview). По умолчанию работает модель gpt-3.5-turbo.

  * Далее в автоматическом сценарии перейдите по ссылке «Настроить разбор ответа». Добавьте при необходимости данные, которые хотите получать в ответе от ChatGPT. По умолчанию приходит только текст ответа, при этом в инфоблоках хранится и другая дополнительная информация. Её можно добавить к комментарию с помощью переменных, например: {{Инфоблок.Response}} или {{Инфоблок.Tokens used}}. Сохраните настройки.


## Как работать


Теперь в задачах с шаблоном, который вы выбирали во время установки конфигурации, можно написать комментарий с командой «**/chatgpt** » и нужным текстом сообщения, ПланФикс отправит текст в ChatGPT. Через некоторое время вы увидите ответ на свой запрос. 


## Важно


Предложенный вариант работы с ChatGPT является лишь примером. Вы легко можете изменить автоматический сценарий под свои нужды, добавив нужные условия и действия. 


## Дополнительно


Вы можете использовать и другие генеративные языковые модели в ПланФиксе: [Yandex GPT](Yandex_GPT.md "Yandex GPT"), [ProxyAPI](ProxyAPI.md "ProxyAPI").
