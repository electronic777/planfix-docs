[ Автоматический сценарий](Автоматизация/Автоматические_сценарии.md) с событием **Задача изменена и стала соответствовать условиям** работает следующим образом: 


  * в момент любого изменения задачи система проверяет, выполнялось ли условие в прошлый раз для этого сценария в этой задаче и выполняется ли на текущий момент;

  * если условие при прошлом изменении не выполнялось, а теперь выполняется, сценарий срабатывает и выполняются добавленные в него операции.


  


## Важно


Для ожидаемого срабатывания сценария необходимо одновременное сочетание двух факторов: **задача изменена** и **условие в задаче, которое ранее не выполнялось, стало выполняться**. Если эти два фактора разнесены по времени, вы можете получить срабатывания сценария не в тот момент, который ожидаете. 


Поэтому мы не рекомендуем использовать в сценариях на событие "Задача изменена и стала соответствовать условиям" условия, не относящиеся к полям данной задачи. Например, условия по полям надзадачи, полям контрагента или системные признаки вроде "Событие вызвано другим сценарием". 


  * **Пример (как не нужно делать) №1:**


    ![oF2fE2.jpg](images/oF2fE2.jpg)


    


  * когда статус в надзадаче изменится на "Оплата", сценарий не сработает, т.к. сама наша задача не изменилась.

  * при этом когда в задаче произойдет любое изменение, сценарий сработает, т.к. присутствуют оба фактора - задача изменилась и условие "Статус надзадачи = Оплата" стало выполняться (а при прошлом изменении задачи не выполнялось).


  * **Пример (как не нужно делать) №2:**


    ![2GllvV.jpg](images/2GllvV.jpg)


    


  * когда при помощи другого сценария статус задачи будет изменен на "Не согласовано", этот сценарий не отработает, т.к. не выполняется условие 2, "Событие вызвано другим сценарием = Нет";

  * но как только в задаче вручную сделают изменение любого поля, этот сценарий сработает, т..к. с момента прошлого изменения задачи статус изменился и стал соответствовать условию "Статус задачи = Не согласовано".


Будьте внимательны и используйте для этого события только условия по полям текущей задачи.
